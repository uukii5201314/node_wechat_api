<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>问题交流</title>
    <link rel="stylesheet" href="css/allquestion.css">
</head>
<body>
    
<div class="form">
    <form action="/allquestion" method="post" enctype="application/x-www-form-urlencoded">
        <textarea class="forminput" name="question" placeholder="请输入您的问题"></textarea>
        <div class="formbelow">
            <div class="name"><%= nickname %></div>
            <button id="submitButton" class="btn" type="submit">发布问题</button>
        </div>
    </form>
</div>

<% result.forEach(item => { %>
<a href="question/<%= item.id %>">
    <div class="question">
        <div class="question__header">
            <div class="left">
                <img src="<%= item.headimgUrl%>" alt="头像">
                <div class="question__name">@<%= item.nickname %></div>
            </div>
            <div class="question__time"><%= item.time %></div>
        </div>
        <div class="question__content">
            <%= item.question %>
        </div>
    </div>
</a>
<% }) %>








<a href="/service">
    <div class="back">
        <img src="/icon/群蜂主页.png" alt="">
    </div>
</a>
<script>
    // 监听表单提交事件
    document.getElementById("submitButton").addEventListener("click", function(event) {
        // 阻止表单默认提交行为
        event.preventDefault();

        // 获取问题输入框的值
        const questionInput = document.querySelector(".forminput");
        const questionValue = questionInput.value;

        // 检查问题输入框是否为空
        if (questionValue.trim() === "") {
            alert("问题不能为空！");
        } else {
            // 表单验证通过，手动提交表单
            event.target.closest("form").submit();
        }
    });
</script>
</body>
</html>